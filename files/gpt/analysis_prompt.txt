Analyze the following prompt to determine if it needs Discord message context and what filtering to apply:

Prompt: {prompt}

{channels_info}

Please provide a JSON response with the following structure:
{{
    "needs_context": true/false,
    "explanation": "Brief explanation of why context is needed or not",
    "filter_params": {{
        "channels": ["list", "of", "relevant", "channels"],
        "users": ["optional", "list", "of", "users"],
        "keywords": ["optional", "list", "of", "keywords"],
        "date_range": "optional date range"
    }}
}}

Consider:
1. The topic of the query and which channels might be relevant
2. Whether the query is about recent conversations or general knowledge
3. If specific users or keywords should be filtered
4. If a specific date range is relevant

For example:
- If someone asks about movies, suggest channels like 'things-we-watch' or 'movies'
- If someone asks about games, suggest channels like 'gaming' or 'game-scores'
- If someone asks about sports, suggest channels like 'sports' or 'sports-talk'

Always consider the context and topic of the query, not just explicit channel mentions.

IMPORTANT: 
- Unless the user specifically mentions another channel, always include the current channel in the filter
- If the question is about the server, bot, or conversations, it needs context

Please respond in this exact JSON format:
{
    "needs_context": true/false,  # true if NOT googleable, false if googleable
    "explanation": "brief explanation of why",
    "filter_params": {
        "channels": ["channel1", "channel2"] or null,
        "users": ["user1", "user2"] or null,
        "keywords": ["word1", "word2"] or null,
        "guild_name": "name of the guild",  # This is required
        "current_channel": "channel_name",  # This is required
        "date_range": "optional date range"
    }
}

User's prompt: {prompt} 